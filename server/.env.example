# ===============================================
# YHealth Server Environment Configuration
# ===============================================
# Copy this file to .env and fill in the values
# Required variables are marked with (Required)
# ===============================================

# -----------------------------------------------
# Server Configuration
# -----------------------------------------------
NODE_ENV=development
PORT=5000
HOST=0.0.0.0

# -----------------------------------------------
# Database Configuration (Required)
# -----------------------------------------------
# MongoDB connection string
# Local: mongodb://localhost:27017/yhealth
# Atlas: mongodb+srv://<username>:<password>@<cluster>.mongodb.net/yhealth
MONGODB_URI=mongodb://localhost:27017/yhealth
MONGODB_POOL_SIZE=10

# -----------------------------------------------
# JWT Configuration (Required)
# -----------------------------------------------
# Generate strong secrets: openssl rand -base64 64
JWT_SECRET=your-super-secret-jwt-key-change-in-production-minimum-32-chars
JWT_REFRESH_SECRET=your-refresh-secret-key-change-in-production-minimum-32-chars
JWT_EXPIRES_IN=15m
JWT_REFRESH_EXPIRES_IN=7d
JWT_ISSUER=yhealth-api
JWT_AUDIENCE=yhealth-client

# -----------------------------------------------
# Session Configuration
# -----------------------------------------------
SESSION_SECRET=your-session-secret-change-in-production
SESSION_NAME=yhealth.sid
SESSION_MAX_AGE=86400000

# -----------------------------------------------
# CORS Configuration
# -----------------------------------------------
# Comma-separated list of allowed origins
CORS_ORIGIN=http://localhost:3000,http://localhost:5173

# -----------------------------------------------
# Rate Limiting
# -----------------------------------------------
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX=100

# -----------------------------------------------
# Redis Configuration (Optional)
# -----------------------------------------------
# For production caching and session storage
# REDIS_URL=redis://localhost:6379

# -----------------------------------------------
# AWS S3 Configuration (Optional)
# -----------------------------------------------
# For file uploads and storage
AWS_ACCESS_KEY_ID=
AWS_SECRET_ACCESS_KEY=
AWS_REGION=us-east-1
AWS_S3_BUCKET=

# -----------------------------------------------
# Email (SMTP) Configuration (Optional)
# -----------------------------------------------
# For sending emails (verification, password reset, etc.)
SMTP_HOST=
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=
SMTP_PASS=
SMTP_FROM=noreply@yhealth.com

# -----------------------------------------------
# OAuth Configuration (Optional)
# -----------------------------------------------
# Google OAuth - Get from https://console.developers.google.com
GOOGLE_CLIENT_ID=
GOOGLE_CLIENT_SECRET=

# Apple Sign-In - Get from https://developer.apple.com
APPLE_CLIENT_ID=
APPLE_TEAM_ID=
APPLE_KEY_ID=
APPLE_PRIVATE_KEY=

# -----------------------------------------------
# Payment Configuration (Optional)
# -----------------------------------------------
# Stripe - Get from https://dashboard.stripe.com
STRIPE_SECRET_KEY=
STRIPE_WEBHOOK_SECRET=

# PayPal - Get from https://developer.paypal.com
PAYPAL_CLIENT_ID=
PAYPAL_CLIENT_SECRET=

# -----------------------------------------------
# SMS/WhatsApp Configuration (Optional)
# -----------------------------------------------
# Twilio - Get from https://console.twilio.com
TWILIO_ACCOUNT_SID=
TWILIO_AUTH_TOKEN=
TWILIO_PHONE_NUMBER=

# -----------------------------------------------
# Third-Party Health Integrations (Optional)
# -----------------------------------------------
# WHOOP - Get from https://developer.whoop.com
WHOOP_CLIENT_ID=
WHOOP_CLIENT_SECRET=
WHOOP_REDIRECT_URI=http://localhost:5000/api/integrations/oauth/callback/whoop

# Fitbit - Get from https://dev.fitbit.com
FITBIT_CLIENT_ID=
FITBIT_CLIENT_SECRET=
FITBIT_REDIRECT_URI=http://localhost:5000/api/integrations/oauth/callback/fitbit

# Garmin - Get from https://developer.garmin.com
GARMIN_CLIENT_ID=
GARMIN_CLIENT_SECRET=
GARMIN_REDIRECT_URI=http://localhost:5000/api/integrations/oauth/callback/garmin

# Oura - Get from https://cloud.ouraring.com/oauth/applications
OURA_CLIENT_ID=
OURA_CLIENT_SECRET=
OURA_REDIRECT_URI=http://localhost:5000/api/integrations/oauth/callback/oura

# Strava - Get from https://developers.strava.com
STRAVA_CLIENT_ID=
STRAVA_CLIENT_SECRET=
STRAVA_REDIRECT_URI=http://localhost:5000/api/integrations/oauth/callback/strava

# MyFitnessPal - Contact MFP for API access
MFP_CLIENT_ID=
MFP_CLIENT_SECRET=

# -----------------------------------------------
# Logging Configuration
# -----------------------------------------------
LOG_LEVEL=debug
LOG_FORMAT=dev

# -----------------------------------------------
# API Configuration
# -----------------------------------------------
API_VERSION=v1
API_PREFIX=/api

# -----------------------------------------------
# App URL (for email links, OAuth callbacks)
# -----------------------------------------------
APP_URL=http://localhost:3000
API_URL=http://localhost:5000

# -----------------------------------------------
# AI/ML Configuration (Optional)
# -----------------------------------------------
# OpenAI for deep assessment conversations
OPENAI_API_KEY=

# -----------------------------------------------
# Feature Flags (Optional)
# -----------------------------------------------
ENABLE_WHATSAPP_COACHING=true
ENABLE_AI_ASSESSMENT=true
ENABLE_WEARABLE_SYNC=true

# -----------------------------------------------
# Cluster Mode (production only)
# -----------------------------------------------
CLUSTER_MODE=false
