<%# Password Changed Confirmation Template %>
<%- include('./layouts/base', {
  title: 'Password Changed - yHealth',
  preheader: `${firstName}, your yHealth password has been successfully changed`,
  greeting: `Hi ${firstName},`,
  content: `
    <div style="text-align: center; margin-bottom: 32px;">
      <div style="width: 80px; height: 80px; background: linear-gradient(135deg, #10B981 0%, #059669 100%); border-radius: 50%; margin: 0 auto 16px; display: flex; align-items: center; justify-content: center;">
        <span style="font-size: 40px; line-height: 80px;">âœ…</span>
      </div>
    </div>

    <p style="margin: 0 0 24px 0; font-size: 16px; line-height: 26px;">
      Your password has been <strong>successfully changed</strong>. You can now use your new password to sign in to your yHealth account.
    </p>

    <table role="presentation" cellspacing="0" cellpadding="0" border="0" width="100%" style="margin: 24px 0; background: #F9FAFB; border-radius: 12px;">
      <tr>
        <td style="padding: 20px;">
          <table role="presentation" cellspacing="0" cellpadding="0" border="0" width="100%">
            <tr>
              <td style="padding: 8px 0;">
                <span style="color: #6B7280; font-size: 14px;">Changed on:</span>
                <span style="color: #1F2937; font-size: 14px; font-weight: 600; float: right;"><%= changedAt %></span>
              </td>
            </tr>
            <% if (typeof ipAddress !== 'undefined' && ipAddress) { %>
            <tr>
              <td style="padding: 8px 0; border-top: 1px solid #E5E7EB;">
                <span style="color: #6B7280; font-size: 14px;">IP Address:</span>
                <span style="color: #1F2937; font-size: 14px; font-weight: 600; float: right;"><%= ipAddress %></span>
              </td>
            </tr>
            <% } %>
            <% if (typeof device !== 'undefined' && device) { %>
            <tr>
              <td style="padding: 8px 0; border-top: 1px solid #E5E7EB;">
                <span style="color: #6B7280; font-size: 14px;">Device:</span>
                <span style="color: #1F2937; font-size: 14px; font-weight: 600; float: right;"><%= device %></span>
              </td>
            </tr>
            <% } %>
          </table>
        </td>
      </tr>
    </table>

    <table role="presentation" cellspacing="0" cellpadding="0" border="0" width="100%" style="margin: 24px 0;">
      <tr>
        <td style="padding: 16px; background: #FEF2F2; border-radius: 12px; border-left: 4px solid #EF4444;">
          <p style="margin: 0; font-size: 14px; color: #991B1B;">
            <strong>Wasn't you?</strong><br>
            If you didn't change your password, your account may be compromised. Please <a href="<%= resetUrl %>" style="color: #EF4444; font-weight: 600;">reset your password immediately</a> and contact our support team.
          </p>
        </td>
      </tr>
    </table>
  `,
  ctaButton: {
    text: 'Go to Dashboard',
    url: dashboardUrl,
    color: 'linear-gradient(135deg, #10B981 0%, #059669 100%)'
  },
  footerText: 'For security concerns, contact support@yhealth.app immediately.'
}) %>
